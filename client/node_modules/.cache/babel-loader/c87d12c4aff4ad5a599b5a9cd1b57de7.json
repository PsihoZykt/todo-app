{"ast":null,"code":"var _jsxFileName = \"/home/psihoz/todo-app-front/src/components/content/register/RegisterPage.jsx\";\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login, createUser } from '../../../redux/authReducer';\nimport s from './register.module.css';\n\nconst RegisterPage = props => {\n  const onSubmit = formData => {\n    props.createUser(formData.username, formData.email, formData.password).then(data => {\n      if (data.status === 200) {\n        return props.login(formData.username, formData.email, formData.password).then(() => props.history.push('/'));\n      }\n\n      throw new Error('Registration error');\n    }).catch(err => {\n      console.log(err);\n      throw Error(err);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"\".concat(s.registerWrapper),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"register\", React.createElement(ReduxRegisterForm, {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    role: \"link\",\n    tabIndex: 0,\n    onClick: () => props.history.push('/login'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"back to login\", ' '));\n};\n\nconst RegisterForm = props => {\n  const handleSubmit = props.handleSubmit;\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"inputEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Username\"), React.createElement(Field, {\n    component: \"input\",\n    name: \"email\",\n    placeholder: \"email\",\n    className: \"form-control\",\n    id: \"inputEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"inputUsername\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Username\"), React.createElement(Field, {\n    component: \"input\",\n    placeholder: \"username\",\n    name: \"username\",\n    className: \"form-control\",\n    id: \"inputUsername\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"inputPassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Field, {\n    component: \"input\",\n    placeholder: \"password\",\n    name: \"password\",\n    type: \"password\",\n    className: \"form-control\",\n    id: \"inputPassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Register\"));\n};\n\nconst ReduxRegisterForm = reduxForm({\n  form: 'register'\n})(RegisterForm);\nexport default connect(null, {\n  login,\n  createUser\n})(withRouter(RegisterPage));","map":{"version":3,"sources":["/home/psihoz/todo-app-front/src/components/content/register/RegisterPage.jsx"],"names":["React","Field","reduxForm","withRouter","connect","login","createUser","s","RegisterPage","props","onSubmit","formData","username","email","password","then","data","status","history","push","Error","catch","err","console","log","registerWrapper","RegisterForm","handleSubmit","ReduxRegisterForm","form"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login, createUser } from '../../../redux/authReducer';\nimport s from './register.module.css';\n\nconst RegisterPage = props => {\n  const onSubmit = formData => {\n    props\n      .createUser(formData.username, formData.email, formData.password)\n      .then(data => {\n        if (data.status === 200) {\n          return props\n            .login(formData.username, formData.email, formData.password)\n            .then(() => props.history.push('/'));\n        }\n        throw new Error('Registration error');\n      })\n      .catch(err => {\n          console.log(err)\n        throw Error(err);\n      });\n  };\n  return (\n    <div className={`${s.registerWrapper}`}>\n      register\n      <ReduxRegisterForm onSubmit={onSubmit} />\n      <span role=\"link\" tabIndex={0} onClick={() => props.history.push('/login')}>\n        back to login{' '}\n      </span>\n    </div>\n  );\n};\n\nconst RegisterForm = props => {\n  const { handleSubmit } = props;\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"inputEmail\">Username</label>\n        <Field\n          component=\"input\"\n          name=\"email\"\n          placeholder=\"email\"\n          className=\"form-control\"\n          id=\"inputEmail\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"inputUsername\">Username</label>\n        <Field\n          component=\"input\"\n          placeholder=\"username\"\n          name=\"username\"\n          className=\"form-control\"\n          id=\"inputUsername\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"inputPassword\">Password</label>\n        <Field\n          component=\"input\"\n          placeholder=\"password\"\n          name=\"password\"\n          type=\"password\"\n          className=\"form-control\"\n          id=\"inputPassword\"\n        />\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary\">\n        Register\n      </button>\n    </form>\n  );\n};\n\nconst ReduxRegisterForm = reduxForm({ form: 'register' })(RegisterForm);\nexport default connect(\n  null,\n  { login, createUser },\n)(withRouter(RegisterPage));\n"]},"metadata":{},"sourceType":"module"}