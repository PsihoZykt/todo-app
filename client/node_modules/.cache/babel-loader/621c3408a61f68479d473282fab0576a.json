{"ast":null,"code":"import _slicedToArray from \"/home/psihoz/todo-app-back/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/psihoz/todo-app-back/client/src/components/content/taskBar/TaskBarContainer.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { formValueSelector } from 'redux-form';\nimport Task from './task';\nimport { toggleTaskActive, postTask, deleteTask } from '../../../redux/navReducer';\nimport mapArrayToElements from '../../../util/utility';\nimport TaskBar from './TaskBar';\nimport Login from '../login/index';\nimport authReducer from '../../../redux/authReducer';\n\nconst TaskBarContainer = props => {\n  console.log(props);\n  const tasks = props.tasks;\n\n  const _useState = useState([...tasks]),\n        _useState2 = _slicedToArray(_useState, 2),\n        filteredTasks = _useState2[0],\n        setFilteredTasks = _useState2[1];\n\n  useEffect(() => {\n    if (!tasks) return React.createElement(Login, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    });\n    let filter = '';\n    if (props.searchField) filter = props.searchField;\n    setFilteredTasks(tasks.filter(task => {\n      return task.name.search(filter) !== -1;\n    }));\n  }, [props.tasks, props.isAuth]);\n\n  const onTaskClick = task => props.toggleTaskActive(task);\n\n  const onTaskAdded = task => props.postTask(task);\n\n  const onTaskRemoved = task => props.deleteTask(task);\n\n  const taskElements = mapArrayToElements(filteredTasks, Task, onTaskClick, onTaskRemoved);\n  return React.createElement(React.Fragment, null, React.createElement(TaskBar, {\n    taskElements: taskElements,\n    onTaskAdded: onTaskAdded,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), ' ');\n};\n\nconst selector = formValueSelector('searchTask');\n\nconst mapStateToProps = state => ({\n  isAuth: authReducer.isAuth,\n  searchField: selector(state, 'searchField')\n});\n\nexport default connect(mapStateToProps, {\n  toggleTaskActive,\n  postTask,\n  deleteTask\n})(withRouter(TaskBarContainer));","map":{"version":3,"sources":["/home/psihoz/todo-app-back/client/src/components/content/taskBar/TaskBarContainer.jsx"],"names":["React","useEffect","useState","connect","withRouter","formValueSelector","Task","toggleTaskActive","postTask","deleteTask","mapArrayToElements","TaskBar","Login","authReducer","TaskBarContainer","props","console","log","tasks","filteredTasks","setFilteredTasks","filter","searchField","task","name","search","isAuth","onTaskClick","onTaskAdded","onTaskRemoved","taskElements","selector","mapStateToProps","state"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,iBAAT,QAAkC,YAAlC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,gBAAT,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,2BAAvD;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;AAEA,MAAMC,gBAAgB,GAAGC,KAAK,IAAI;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AADgC,QAExBG,KAFwB,GAEdH,KAFc,CAExBG,KAFwB;;AAAA,oBAGUhB,QAAQ,CAAC,CAAC,GAAGgB,KAAJ,CAAD,CAHlB;AAAA;AAAA,QAGzBC,aAHyB;AAAA,QAGVC,gBAHU;;AAIhCnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACiB,KAAL,EAAY,OAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAEZ,QAAIG,MAAM,GAAG,EAAb;AACA,QAAIN,KAAK,CAACO,WAAV,EAAuBD,MAAM,GAAGN,KAAK,CAACO,WAAf;AACvBF,IAAAA,gBAAgB,CACdF,KAAK,CAACG,MAAN,CAAaE,IAAI,IAAI;AACnB,aAAOA,IAAI,CAACC,IAAL,CAAUC,MAAV,CAAiBJ,MAAjB,MAA6B,CAAC,CAArC;AACD,KAFD,CADc,CAAhB;AAKD,GAVQ,EAUN,CAACN,KAAK,CAACG,KAAP,EAAcH,KAAK,CAACW,MAApB,CAVM,CAAT;;AAaA,QAAMC,WAAW,GAAGJ,IAAI,IAAIR,KAAK,CAACR,gBAAN,CAAuBgB,IAAvB,CAA5B;;AACA,QAAMK,WAAW,GAAGL,IAAI,IAAIR,KAAK,CAACP,QAAN,CAAee,IAAf,CAA5B;;AACA,QAAMM,aAAa,GAAGN,IAAI,IAAIR,KAAK,CAACN,UAAN,CAAiBc,IAAjB,CAA9B;;AAEA,QAAMO,YAAY,GAAGpB,kBAAkB,CAACS,aAAD,EAAgBb,IAAhB,EAAsBqB,WAAtB,EAAmCE,aAAnC,CAAvC;AAEA,SACE,0CACE,oBAAC,OAAD;AAAS,IAAA,YAAY,EAAEC,YAAvB;AAAqC,IAAA,WAAW,EAAEF,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EACmE,GADnE,CADF;AAKD,CA5BD;;AA6BA,MAAMG,QAAQ,GAAG1B,iBAAiB,CAAC,YAAD,CAAlC;;AAEA,MAAM2B,eAAe,GAAGC,KAAK,KAAK;AAChCP,EAAAA,MAAM,EAAEb,WAAW,CAACa,MADY;AAEhCJ,EAAAA,WAAW,EAAES,QAAQ,CAACE,KAAD,EAAQ,aAAR;AAFW,CAAL,CAA7B;;AAIA,eAAe9B,OAAO,CACpB6B,eADoB,EAEpB;AACEzB,EAAAA,gBADF;AAEEC,EAAAA,QAFF;AAGEC,EAAAA;AAHF,CAFoB,CAAP,CAObL,UAAU,CAACU,gBAAD,CAPG,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { formValueSelector } from 'redux-form';\nimport Task from './task';\nimport { toggleTaskActive, postTask, deleteTask } from '../../../redux/navReducer';\nimport mapArrayToElements from '../../../util/utility';\nimport TaskBar from './TaskBar';\nimport Login from '../login/index';\nimport authReducer from '../../../redux/authReducer';\n\nconst TaskBarContainer = props => {\n  console.log(props);\n  const { tasks } = props;\n  const [filteredTasks, setFilteredTasks] = useState([...tasks]);\n  useEffect(() => {\n    if (!tasks) return <Login/>;\n\n    let filter = '';\n    if (props.searchField) filter = props.searchField;\n    setFilteredTasks(\n      tasks.filter(task => {\n        return task.name.search(filter) !== -1;\n      }),\n    );\n  }, [props.tasks, props.isAuth]);\n\n\n  const onTaskClick = task => props.toggleTaskActive(task);\n  const onTaskAdded = task => props.postTask(task);\n  const onTaskRemoved = task => props.deleteTask(task);\n\n  const taskElements = mapArrayToElements(filteredTasks, Task, onTaskClick, onTaskRemoved);\n\n  return (\n    <>\n      <TaskBar taskElements={taskElements} onTaskAdded={onTaskAdded}/>{' '}\n    </>\n  );\n};\nconst selector = formValueSelector('searchTask');\n\nconst mapStateToProps = state => ({\n  isAuth: authReducer.isAuth,\n  searchField: selector(state, 'searchField'),\n});\nexport default connect(\n  mapStateToProps,\n  {\n    toggleTaskActive,\n    postTask,\n    deleteTask,\n  },\n)(withRouter(TaskBarContainer));\n"]},"metadata":{},"sourceType":"module"}