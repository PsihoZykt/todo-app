{"ast":null,"code":"import _slicedToArray from \"/home/psihoz/todo-app-back/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/psihoz/todo-app-back/client/src/components/content/taskBar/TaskBarContainer.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { formValueSelector } from 'redux-form';\nimport Task from './task';\nimport { toggleTaskActive, postTask, deleteTask } from '../../../redux/navReducer';\nimport mapArrayToElements from '../../../util/utility';\nimport TaskBar from './TaskBar';\nimport Login from '../login/index';\n\nconst TaskBarContainer = props => {\n  const tasks = props.tasks;\n\n  const _useState = useState([...tasks]),\n        _useState2 = _slicedToArray(_useState, 2),\n        filteredTasks = _useState2[0],\n        setFilteredTasks = _useState2[1];\n\n  useEffect(() => {\n    let filter = '';\n    if (props.searchField) filter = props.searchField;\n    setFilteredTasks(tasks.filter(task => {\n      if (task.name.search(filter) !== -1) return true;\n      return false;\n    }));\n  }, [props]);\n  useEffect(() => {\n    if (!tasks) return React.createElement(Login, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    });\n    tasks.forEach(task => {\n      if (task.isActive) {\n        props.history.push(\"/tasks/id/\".concat(task.id));\n        return null;\n      }\n    });\n  }, [props.tasks]);\n\n  const onTaskClick = task => props.toggleTaskActive(task);\n\n  const onTaskAdded = task => props.postTask(task);\n\n  const onTaskRemoved = task => props.deleteTask(task);\n\n  const taskElements = mapArrayToElements(filteredTasks, Task, onTaskClick, onTaskRemoved);\n  return React.createElement(React.Fragment, null, React.createElement(TaskBar, {\n    taskElements: taskElements,\n    onTaskAdded: onTaskAdded,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), ' ');\n};\n\nconst selector = formValueSelector('searchTask');\n\nconst mapStateToProps = state => ({\n  tasks: state.navReducer.tasks,\n  searchField: selector(state, 'searchField')\n});\n\nexport default connect(mapStateToProps, {\n  toggleTaskActive,\n  postTask,\n  deleteTask\n})(withRouter(TaskBarContainer));","map":{"version":3,"sources":["/home/psihoz/todo-app-back/client/src/components/content/taskBar/TaskBarContainer.jsx"],"names":["React","useEffect","useState","connect","withRouter","formValueSelector","Task","toggleTaskActive","postTask","deleteTask","mapArrayToElements","TaskBar","Login","TaskBarContainer","props","tasks","filteredTasks","setFilteredTasks","filter","searchField","task","name","search","forEach","isActive","history","push","id","onTaskClick","onTaskAdded","onTaskRemoved","taskElements","selector","mapStateToProps","state","navReducer"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,iBAAT,QAAkC,YAAlC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,gBAAT,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,2BAAvD;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,MAAMC,gBAAgB,GAAGC,KAAK,IAAI;AAAA,QACxBC,KADwB,GACdD,KADc,CACxBC,KADwB;;AAAA,oBAEUb,QAAQ,CAAC,CAAC,GAAGa,KAAJ,CAAD,CAFlB;AAAA;AAAA,QAEzBC,aAFyB;AAAA,QAEVC,gBAFU;;AAGhChB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIiB,MAAM,GAAG,EAAb;AACA,QAAIJ,KAAK,CAACK,WAAV,EAAuBD,MAAM,GAAGJ,KAAK,CAACK,WAAf;AACvBF,IAAAA,gBAAgB,CACdF,KAAK,CAACG,MAAN,CAAaE,IAAI,IAAI;AACnB,UAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,CAAiBJ,MAAjB,MAA6B,CAAC,CAAlC,EAAqC,OAAO,IAAP;AACrC,aAAO,KAAP;AACD,KAHD,CADc,CAAhB;AAMD,GATQ,EASN,CAACJ,KAAD,CATM,CAAT;AAWAb,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACc,KAAL,EAAY,OAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACZA,IAAAA,KAAK,CAACQ,OAAN,CAAcH,IAAI,IAAI;AACpB,UAAIA,IAAI,CAACI,QAAT,EAAmB;AACjBV,QAAAA,KAAK,CAACW,OAAN,CAAcC,IAAd,qBAAgCN,IAAI,CAACO,EAArC;AACA,eAAO,IAAP;AACD;AACF,KALD;AAMD,GARQ,EAQN,CAACb,KAAK,CAACC,KAAP,CARM,CAAT;;AAUA,QAAMa,WAAW,GAAGR,IAAI,IAAIN,KAAK,CAACP,gBAAN,CAAuBa,IAAvB,CAA5B;;AACA,QAAMS,WAAW,GAAGT,IAAI,IAAIN,KAAK,CAACN,QAAN,CAAeY,IAAf,CAA5B;;AACA,QAAMU,aAAa,GAAGV,IAAI,IAAIN,KAAK,CAACL,UAAN,CAAiBW,IAAjB,CAA9B;;AAEA,QAAMW,YAAY,GAAGrB,kBAAkB,CAACM,aAAD,EAAgBV,IAAhB,EAAsBsB,WAAtB,EAAmCE,aAAnC,CAAvC;AAEA,SACE,0CACE,oBAAC,OAAD;AAAS,IAAA,YAAY,EAAEC,YAAvB;AAAqC,IAAA,WAAW,EAAEF,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EACoE,GADpE,CADF;AAKD,CAnCD;;AAoCA,MAAMG,QAAQ,GAAG3B,iBAAiB,CAAC,YAAD,CAAlC;;AAEA,MAAM4B,eAAe,GAAGC,KAAK,KAAK;AAChCnB,EAAAA,KAAK,EAAEmB,KAAK,CAACC,UAAN,CAAiBpB,KADQ;AAEhCI,EAAAA,WAAW,EAAEa,QAAQ,CAACE,KAAD,EAAQ,aAAR;AAFW,CAAL,CAA7B;;AAIA,eAAe/B,OAAO,CACpB8B,eADoB,EAEpB;AACE1B,EAAAA,gBADF;AAEEC,EAAAA,QAFF;AAGEC,EAAAA;AAHF,CAFoB,CAAP,CAObL,UAAU,CAACS,gBAAD,CAPG,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { formValueSelector } from 'redux-form';\nimport Task from './task';\nimport { toggleTaskActive, postTask, deleteTask } from '../../../redux/navReducer';\nimport mapArrayToElements from '../../../util/utility';\nimport TaskBar from './TaskBar';\nimport Login from '../login/index';\n\nconst TaskBarContainer = props => {\n  const { tasks } = props;\n  const [filteredTasks, setFilteredTasks] = useState([...tasks]);\n  useEffect(() => {\n    let filter = '';\n    if (props.searchField) filter = props.searchField;\n    setFilteredTasks(\n      tasks.filter(task => {\n        if (task.name.search(filter) !== -1) return true;\n        return false;\n      }),\n    );\n  }, [props]);\n\n  useEffect(() => {\n    if (!tasks) return <Login />;\n    tasks.forEach(task => {\n      if (task.isActive) {\n        props.history.push(`/tasks/id/${task.id}`);\n        return null;\n      }\n    });\n  }, [props.tasks]);\n\n  const onTaskClick = task => props.toggleTaskActive(task);\n  const onTaskAdded = task => props.postTask(task);\n  const onTaskRemoved = task => props.deleteTask(task);\n\n  const taskElements = mapArrayToElements(filteredTasks, Task, onTaskClick, onTaskRemoved);\n\n  return (\n    <>\n      <TaskBar taskElements={taskElements} onTaskAdded={onTaskAdded} />{' '}\n    </>\n  );\n};\nconst selector = formValueSelector('searchTask');\n\nconst mapStateToProps = state => ({\n  tasks: state.navReducer.tasks,\n  searchField: selector(state, 'searchField'),\n});\nexport default connect(\n  mapStateToProps,\n  {\n    toggleTaskActive,\n    postTask,\n    deleteTask,\n  },\n)(withRouter(TaskBarContainer));\n"]},"metadata":{},"sourceType":"module"}